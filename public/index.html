<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>CalorieHUD 2.0</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>
<body onload="init()">
  <div class="header"><div class="brand">CalorieHUD 2.0</div></div>
  <div class="tabs">
    <div id="tabHusband" class="tab active" onclick="setUser('husband')">ğŸ‡ºğŸ‡¸ Husband</div>
    <div id="tabWife" class="tab" onclick="setUser('wife')">ğŸ‡¯ğŸ‡µ Wife</div>
  </div>

  <div class="progress-card">
    <div class="card-label">Consumed Today ğŸ½ï¸</div>
    <div id="consumedDisplay" class="card-value">0</div>
    <div style="background:#f1f5f9; height:10px; border-radius:5px; margin-top:10px; overflow:hidden;">
      <div id="progressBar" style="width:0%; height:100%; background:var(--primary); transition: width 0.5s;"></div>
    </div>
  </div>

  <div class="grid">
    <div class="card">
      <div class="card-label">Goal ğŸ¯</div>
      <div id="goalDisplay" class="card-value">4000</div>
    </div>
    <div class="card" onclick="toggleWeight()">
      <div class="card-label">Weight âœï¸</div>
      <div class="card-value"><span id="weightDisplay">--</span> lbs</div>
    </div>
  </div>

  <div id="modeManual" class="hidden">
    <div class="card">
      <input type="date" id="mDate">
      <select id="mCategory"><option>Breakfast</option><option>Lunch</option><option>Dinner</option><option>Snack</option></select>
      <input type="number" id="mCals" placeholder="Calories">
      <button class="btn" id="logBtn" onclick="submitManual()">Log Meal</button>
    </div>
  </div>

  <div class="chart-wrapper">
    <select id="viewSelector" onchange="loadStats()"><option value="rolling">Last 30 Days</option><option value="0">January</option></select>
    <div class="scroll-wrapper"><div class="wide-chart-body"><canvas id="calChart"></canvas></div></div>
  </div>
  <div class="chart-wrapper"><div class="weight-chart-body"><canvas id="weightChart"></canvas></div></div>

  <div id="historyList"></div>

  <script src="app.js"></script>
</body>
</html>
